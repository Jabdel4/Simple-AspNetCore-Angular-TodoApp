name: build-api

parameters:
- name: env
  type: string
  default: dev
  values:
  - dev
  - qa
  - prod

trigger:
    batch: true
    branches:
        include:
        - main
        #- feature/todo-api
    paths:
        include:
        - pipelines/templates/build-api-template.yml
        - TodoAppBackend/*
        exclude:
        - /*.md
        - /*.gitignore

variables:
- template: ../variables/variables.${{ parameters.env }}.yml

jobs:
- template: ../templates/build-api-template.yml